{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build with g++",
            "type": "shell",
            "command": [
                "C:/msys64/mingw64/bin/g++.exe",
                " -Wall",
                " -Wextra",
                " -g",
                // aktif dosya her zaman derlenecek
                " \"${file}\"",
                // src klasörü (her zaman üst dizinde olabilir)
                " \"${workspaceFolder}/src/*.cpp\"",
                // include yolu (workspace içinde)
                " -I\"${workspaceFolder}/include\"",
                // çıktı dosyası: output/altında, dosya adına göre
                " -o \"${workspaceFolder}/output/${fileBasenameNoExtension}.exe\"",
                // GStreamer bağlantısı bash üzerinden alınır
                " $(pkg-config --cflags --libs gstreamer-1.0 gstreamer-rtsp-server-1.0 poppler-cpp)"
            ],
            "options": {
                "cwd": "${fileDirname}",
                "shell": {
                    "executable": "C:/msys64/usr/bin/bash.exe",
                    "args": [
                        "-c"
                    ]
                }
            },
            "group": "build",
            "problemMatcher": [
                "$gcc"
            ]
        }
    ]
}